<!doctype html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>复选框全选</title>
	<style>
	body { text-align: center; }
	</style>
</head>
<body>
	<h4>
		<input type="checkbox" id="all">
		<label for="all">全选</label>
	</h4>
	<p>
		<input type="checkbox" class="item">
		<label for="">选项1</label>
	</p>
	<p>
		<input type="checkbox" class="item">
		<label for="">选项2</label>
	</p>
	<p>
		<input type="checkbox" class="item">
		<label for="">选项3</label>
	</p>
	<p>
		<input type="checkbox" class="item">
		<label for="">选项4</label>
	</p>
	<p>
		<input type="checkbox" class="item">
		<label for="">选项5</label>
	</p>
	<p>
		<input type="checkbox" class="item">
		<label for="">选项6</label>
	</p>
	<p>
		<input type="checkbox" class="item">
		<label for="">选项7</label>
	</p>
	<p>
		<input type="checkbox" class="item">
		<label for="">选项8</label>
	</p>
	<script>
		(function(){
			var all = document.getElementById("all");
			var list = document.getElementsByClassName("item");
			function isAllChecked(){
				for (var i = 0; i < list.length; i++) {
					if(list[i].checked === false) return false;
				}
				return true;
			}
			for (var i = 0; i < list.length; i++) {
				list[i].onclick = function(){
					all.checked = isAllChecked();
				}
			}
			all.onclick = function(){
				for (var i = 0; i < list.length; i++) {
					list[i].checked = this.checked;
				}
			}
		})()
	</script>
</body>
</html>